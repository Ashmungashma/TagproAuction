<head>
  <title>Tagpro MLTP Auction</title>
</head>

<body>
    <div style="margin-left: 850px;margin-top:15px;">
        {{> display_time}}
        <br style="margin-bottom:10px">
        {{> loginButtons}}
    </div>
    {{> rosters}}
    <div style="margin-left: 850px;margin-top:500px;">
        {{> display_bidding_options}}
    </div>
    <div style="margin-left:1500px;margin-top:-600px;">
        <p>Bid Log and Chat</p>
        {{> messages}}
    </div>
</body>

<template name="messages">
    {{#if canSendMessage}}
        <form class="new-post">
            <input type="text" name="text" placeholder="Type to send message"/>
        </form>
    {{/if}}
    <br>
    <ul>
        {{#each messages}}
            {{#if text}}
                <p style="margin-left:-35px;width:250px">{{text}}</p>
            {{/if}}
        {{/each}}
    </ul>
</template>

<template name="rosters">
    <div class="teams">
        <h1>Rosters</h1>
        <div class="container">
          {{#each divisions}}
              <div class="division">
                  {{#each teams division ./division}}
                     <div class="team">
                        <div class="teamname">
                            {{teamname}}
                        </div>
                        <ul class="teamdisplay">
                            {{#each players teamname ./teamname}}
                                {{#if captain}}
                                    <li class="captain">{{name}}&nbsp;</li><hr class="goleft">
                                {{else}}
                                    {{#if cocaptain}}
                                        <li class="cocaptain">{{name}}&nbsp;</li><hr class="goleft">
                                    {{else}}
                                        {{#if mltp}}
                                            <li class="mltp">{{name}}&nbsp;</li><hr class="goleft">
                                        {{else}}
                                            <li>{{name}}&nbsp;</li><hr class="goleft">
                                        {{/if}}
                                    {{/if}}
                                {{/if}}
                            {{/each}}
                        </ul>
                  </div>
                  {{/each}}
            </div>
          {{/each}}
        </div>
    </div>
</template>

<template name="display_bidding_options">
    {{#if isCaptain}}
        {{#if isNominationTime}}
            <input type="text" disabled name="amount" placeholder="Input a bid amount">
            <button type="submit" disabled>Bid</button>
            <p>Bid will increment if amount is blank</p>
        {{else}}
            <form class="bid-on-player">
                <input type="text" name="amount" placeholder="Input a bid amount">
                <button type="submit">Bid</button>
                <p>Bid will increment if amount is blank</p>
            </form>
        {{/if}}
    {{/if}}
</template>

<template name="display_time">
    {{#if isNominationTime}}
        {{#if isTurnToNominate}}
            <form class="nominate-player">
                <input type="text" name="player" placeholder="Input a player name" />
                <input type="text" name="amount" placeholder="Initial bid (blank = 0)" />
                <button type="submit">Nominate</button>
            </form>
        {{else}}
            Awaiting nomination by {{currentNominatingPlayer}}
        {{/if}}
    {{else}}
        {{time}} - {{personBeingBidOn}} - {{bidAmount}} - {{lastBidder}}
    {{/if}}

</template>
